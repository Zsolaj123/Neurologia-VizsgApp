/**
 * Sticky Sidebar Fix
 * Fixes browser compatibility and sticky positioning issues
 */

/* Fix 1: Remove conflicting overflow from html */
html {
    overflow-y: visible !important;
    overflow-x: hidden;
}

/* Fix 2: Ensure body and app container have proper overflow */
body {
    overflow: visible !important;
}

#app-container {
    overflow: visible !important;
    min-height: 100vh;
}

/* Fix 3: Fix content area to not create internal scroll */
#content-area {
    overflow: visible !important;
    height: auto !important;
    min-height: calc(100vh - var(--header-height));
}

#content-display {
    overflow: visible !important;
    height: auto !important;
    min-height: calc(100vh - var(--header-height) - var(--section-tabs-height));
    max-height: none !important;
}

/* Fix 4: Ensure sticky sidebars work properly */
.topic-list,
.toc-sidebar {
    position: sticky !important;
    position: -webkit-sticky !important;
    top: var(--header-height) !important;
    height: calc(100vh - var(--header-height)) !important;
    overflow-y: auto !important;
}

/* Fix 5: Alternative toggle button visibility without :has() */
/* Default state - buttons hidden */
.sidebar-toggle-fixed {
    opacity: 0;
    pointer-events: none;
    transform: translateX(-60px);
    transition: all 0.3s ease;
}

.sidebar-toggle-fixed.right {
    transform: translateX(60px);
}

/* Show buttons when sidebar has hidden class */
.sidebar-hidden-left .sidebar-toggle-fixed#left-sidebar-toggle {
    opacity: 1;
    pointer-events: auto;
    transform: translateX(0);
}

.sidebar-hidden-right .sidebar-toggle-fixed#right-sidebar-toggle {
    opacity: 1;
    pointer-events: auto;
    transform: translateX(0);
}

/* Ensure toggle buttons are always on top */
.sidebar-toggle-fixed {
    z-index: 9999 !important;
}