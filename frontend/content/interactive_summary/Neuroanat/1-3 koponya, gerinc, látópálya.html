<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interakt√≠v Anat√≥mia Kalauz: Koponya, Gerinc, Koponyag√∂dr√∂k √©s L√°t√≥p√°lya</title>
    <script src="tailwind.css"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Neutrals -->
    <!-- Application Structure Plan: Single-page app with a mobile hamburger menu and five modules ('Koponya', 'Gerinc', 'Koponyag√∂dr√∂k', 'L√°t√≥p√°lya', 'Gyakorl√°s'). Retains list/detail and tabbed layouts. Implements URL hash-based navigation. Layout for the 'L√°t√≥p√°lya' module has been adjusted to place the description panel below the diagram, preventing overlap. The footer is expanded with a comprehensive list of sources. -->
    <!-- Visualization & Content Choices: 
        - Clinical Significance: Highlighted with a brain emoji (üß†) and subtle background color.
        - Visual Pathway (L√°t√≥p√°lya): Interactive HTML/CSS diagram is now followed by the description panel to improve usability on all screen sizes.
        - Quiz (Gyakorl√°s): JS-powered multiple-choice quiz with immediate feedback.
        - Navigation: Hamburger menu for mobile and URL hash updates for direct linking.
        - Sources: Footer now includes a detailed list of anatomical sources to enhance credibility.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body { font-family: 'Inter', sans-serif; scroll-behavior: smooth; }
        .bg-cream { background-color: #F5F5DC; }
        .bg-warm-gray { background-color: #EFEBE9; }
        .bg-clinical { background-color: #E0E0E0; }
        .text-brown-dark { color: #4E342E; }
        .text-brown-medium { color: #6D4C41; }
        .border-brown-light { border-color: #A1887F; }
        .nav-btn.nav-active {
            background-color: #8D6E63;
            color: white;
            box-shadow: inset 0 2px 4px 0 rgba(0, 0, 0, 0.1);
        }
        .list-item-active { background-color: #D7CCC8; border-left-color: #6D4C41; }
        .fossa-tab.fossa-tab-active { background-color: #A1887F; color: white; border-bottom-color: transparent; }
        .chart-container { position: relative; width: 100%; max-width: 500px; margin-left: auto; margin-right: auto; height: 300px; max-height: 350px; }
        .pathway-diagram { position: relative; width: 100%; max-width: 900px; margin-left: auto; margin-right: auto; height: 250px; }
        .pathway-diagram .path-item { cursor: pointer; transition: all 0.2s ease-in-out; }
        .pathway-diagram .path-item:hover { transform: scale(1.05); filter: brightness(0.95); }
        .pathway-diagram .path-item.active-path { border: 3px solid #6D4C41; box-shadow: 0 0 15px rgba(78, 52, 46, 0.5); }
        .answer-btn:disabled { opacity: 0.7; cursor: not-allowed; }
        .correct-answer { background-color: #4CAF50 !important; color: white !important; }
        .wrong-answer { background-color: #F44336 !important; color: white !important; }
        @media (min-width: 768px) { .chart-container { height: 350px; } }
    </style>
</head>
<body class="bg-cream text-brown-dark">

    <div id="app" class="min-h-screen flex flex-col">
        <header class="bg-warm-gray shadow-md sticky top-0 z-20">
            <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex items-center justify-between h-16">
                    <h1 class="text-lg md:text-2xl font-bold text-brown-dark">Interakt√≠v Anat√≥mia Kalauz</h1>
                    <!-- Desktop Menu -->
                    <div class="hidden lg:flex space-x-1">
                        <button data-target="koponya" class="nav-btn text-xs sm:text-base px-2 sm:px-3 py-2 rounded-md font-medium transition-colors duration-200">Koponya</button>
                        <button data-target="gerinc" class="nav-btn text-brown-medium hover:bg-stone-300 text-xs sm:text-base px-2 sm:px-3 py-2 rounded-md font-medium transition-colors duration-200">Gerinc</button>
                        <button data-target="koponyagodrok" class="nav-btn text-brown-medium hover:bg-stone-300 text-xs sm:text-base px-2 sm:px-3 py-2 rounded-md font-medium transition-colors duration-200">Koponyag√∂dr√∂k</button>
                        <button data-target="latopalya" class="nav-btn text-brown-medium hover:bg-stone-300 text-xs sm:text-base px-2 sm:px-3 py-2 rounded-md font-medium transition-colors duration-200">L√°t√≥p√°lya</button>
                        <button data-target="gyakorlas" class="nav-btn text-brown-medium hover:bg-stone-300 text-xs sm:text-base px-2 sm:px-3 py-2 rounded-md font-medium transition-colors duration-200">Gyakorl√°s</button>
                    </div>
                    <!-- Mobile Menu Button -->
                    <div class="lg:hidden">
                        <button id="mobile-menu-button" class="inline-flex items-center justify-center p-2 rounded-md text-brown-dark hover:text-white hover:bg-brown-medium focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white">
                            <span class="sr-only">Men√º megnyit√°sa</span>
                            <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                            </svg>
                        </button>
                    </div>
                </div>
            </nav>
            <!-- Mobile Menu -->
            <div id="mobile-menu" class="lg:hidden hidden">
                <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                    <button data-target="koponya" class="nav-btn text-brown-medium block px-3 py-2 rounded-md text-base font-medium w-full text-left">Koponya</button>
                    <button data-target="gerinc" class="nav-btn text-brown-medium block px-3 py-2 rounded-md text-base font-medium w-full text-left">Gerinc</button>
                    <button data-target="koponyagodrok" class="nav-btn text-brown-medium block px-3 py-2 rounded-md text-base font-medium w-full text-left">Koponyag√∂dr√∂k</button>
                    <button data-target="latopalya" class="nav-btn text-brown-medium block px-3 py-2 rounded-md text-base font-medium w-full text-left">L√°t√≥p√°lya</button>
                    <button data-target="gyakorlas" class="nav-btn text-brown-medium block px-3 py-2 rounded-md text-base font-medium w-full text-left">Gyakorl√°s</button>
                </div>
            </div>
        </header>

        <main class="flex-grow container mx-auto p-4 sm:p-6 lg:p-8">
            
            <div id="koponya" class="page-content">
                <div class="mb-6 p-6 bg-warm-gray rounded-lg shadow">
                    <h2 class="text-2xl font-bold text-brown-dark mb-2">A Csontos Koponya Anat√≥mi√°ja</h2>
                    <p class="text-brown-medium">Ez a modul a csontos koponya fel√©p√≠t√©s√©t mutatja be. A bal oldali list√°b√≥l v√°lasszon ki egy csontot a r√©szletes inform√°ci√≥k megtekint√©s√©hez. Az agykoponya (Neurocranium) az agyvel≈ët v√©di, m√≠g az arckoponya (Viscerocranium) az arc v√°z√°t k√©pezi √©s helyet ad az √©rz√©kszerveknek.</p>
                </div>
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <div class="lg:col-span-1 bg-warm-gray rounded-lg shadow p-4">
                        <h3 class="font-bold text-lg mb-4 text-brown-dark border-b-2 border-brown-light pb-2">Koponyacsontok</h3>
                        <div id="bone-list"></div>
                    </div>
                    <div id="bone-details" class="lg:col-span-2 bg-warm-gray rounded-lg shadow p-6 min-h-[500px]">
                        <p class="text-center text-brown-medium mt-16">K√©rj√ºk, v√°lasszon egy csontot a bal oldali list√°b√≥l a r√©szletek megtekint√©s√©hez.</p>
                    </div>
                </div>
            </div>

            <div id="gerinc" class="page-content hidden">
                 <div class="mb-6 p-6 bg-warm-gray rounded-lg shadow">
                    <h2 class="text-2xl font-bold text-brown-dark mb-2">A Gerinc Anat√≥mi√°ja</h2>
                    <p class="text-brown-medium">Ez a modul a gerincoszlop fel√©p√≠t√©s√©t √©s szakaszait ismerteti. A gerinc a test k√∂zponti tart√≥oszlopa, v√©di a gerincvel≈ët √©s biztos√≠tja a t√∂rzs mozg√©konys√°g√°t. V√°lasszon egy gerincszakaszt a list√°b√≥l a jellegzetes csigoly√°k le√≠r√°s√°nak megtekint√©s√©hez, √©s tanulm√°nyozza a vizualiz√°ci√≥kat.</p>
                </div>
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <div class="lg:col-span-1 bg-warm-gray rounded-lg shadow p-4">
                        <h3 class="font-bold text-lg mb-4 text-brown-dark border-b-2 border-brown-light pb-2">Gerincszakaszok</h3>
                        <div id="vertebra-list"></div>
                    </div>
                    <div id="vertebra-details" class="lg:col-span-2 bg-warm-gray rounded-lg shadow p-6 min-h-[500px]">
                         <p class="text-center text-brown-medium mt-16">K√©rj√ºk, v√°lasszon egy gerincszakaszt a bal oldali list√°b√≥l a r√©szletek megtekint√©s√©hez.</p>
                    </div>
                </div>
                <div class="mt-6 grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="bg-warm-gray rounded-lg shadow p-6">
                         <h3 class="font-bold text-lg mb-4 text-center text-brown-dark">Csigoly√°k Sz√°ma Szakaszonk√©nt</h3>
                         <div class="chart-container">
                            <canvas id="vertebraeChart"></canvas>
                         </div>
                    </div>
                    <div class="bg-warm-gray rounded-lg shadow p-6">
                        <h3 class="font-bold text-lg mb-4 text-center text-brown-dark">A Gerinc G√∂rb√ºletei</h3>
                        <p class="text-sm text-brown-medium text-center mb-4">A gerinc oldaln√©zetb≈ël jellegzetes, kett≈ës S-alak√∫ g√∂rb√ºletekkel rendelkezik, amelyek a rugalmass√°got √©s a teherb√≠r√°st n√∂velik.</p>
                        <div class="relative h-80 w-full max-w-xs mx-auto">
                           <div class="absolute w-20 h-full border-l-4 border-dashed border-gray-400 left-1/2 -translate-x-1/2"></div>
                           <div class="absolute left-1/2 -translate-x-1/2 w-32 h-full">
                               <div class="absolute top-0 left-0 text-right w-full pr-12">
                                    <div class="font-semibold text-sm text-brown-dark">Nyaki lordosis</div>
                                    <div class="text-xs text-brown-medium">(el≈ëre dombor√∫)</div>
                                </div>
                                <div class="absolute top-[25%] left-0 text-left w-full pl-12">
                                     <div class="font-semibold text-sm text-brown-dark">H√°ti kyphosis</div>
                                     <div class="text-xs text-brown-medium">(h√°tra dombor√∫)</div>
                                </div>
                                <div class="absolute top-[55%] left-0 text-right w-full pr-12">
                                     <div class="font-semibold text-sm text-brown-dark">√Ågy√©ki lordosis</div>
                                     <div class="text-xs text-brown-medium">(el≈ëre dombor√∫)</div>
                                </div>
                                <div class="absolute top-[85%] left-0 text-left w-full pl-12">
                                     <div class="font-semibold text-sm text-brown-dark">Keresztcsonti kyphosis</div>
                                     <div class="text-xs text-brown-medium">(h√°tra dombor√∫)</div>
                                </div>
                           </div>
                           <svg class="absolute w-full h-full" viewBox="0 0 100 200" preserveAspectRatio="none">
                              <path d="M 50,0 C 75,25 75,75 50,100 C 25,125 25,175 50,200" stroke="#6D4C41" stroke-width="4" fill="none" />
                           </svg>
                        </div>
                    </div>
                </div>
            </div>

            <div id="koponyagodrok" class="page-content hidden">
                 <div class="mb-6 p-6 bg-warm-gray rounded-lg shadow">
                    <h2 class="text-2xl font-bold text-brown-dark mb-2">A Koponyaalapi G√∂dr√∂k Anat√≥mi√°ja</h2>
                    <p class="text-brown-medium">A koponyaalap bels≈ë felsz√≠ne h√°rom, l√©pcs≈ëzetesen elhelyezked≈ë m√©lyed√©st k√©pez: az el√ºls≈ë, k√∂z√©ps≈ë √©s h√°ts√≥ koponyag√∂dr√∂t. Ezek az agy k√ºl√∂nb√∂z≈ë r√©szeit fogadj√°k be, √©s sz√°mos ny√≠l√°st tartalmaznak az idegek √©s erek sz√°m√°ra. V√°lasszon egy g√∂dr√∂t az al√°bbi f√ºlekre kattintva a r√©szletes anat√≥mia megtekint√©s√©hez.</p>
                </div>
                <div>
                    <div class="border-b border-brown-light mb-4">
                        <nav class="-mb-px flex space-x-4" aria-label="Tabs">
                            <button class="fossa-tab whitespace-nowrap py-3 px-4 border-b-2 font-medium text-sm" data-fossa-target="fossa-anterior">El√ºls≈ë koponyag√∂d√∂r</button>
                            <button class="fossa-tab text-brown-medium hover:text-brown-dark hover:border-gray-400 whitespace-nowrap py-3 px-4 border-b-2 font-medium text-sm" data-fossa-target="fossa-media">K√∂z√©ps≈ë koponyag√∂d√∂r</button>
                            <button class="fossa-tab text-brown-medium hover:text-brown-dark hover:border-gray-400 whitespace-nowrap py-3 px-4 border-b-2 font-medium text-sm" data-fossa-target="fossa-posterior">H√°tuls√≥ koponyag√∂d√∂r</button>
                        </nav>
                    </div>
                    <div id="fossa-content" class="bg-warm-gray rounded-lg shadow p-6">
                        <!-- Fossa content will be injected here by JS -->
                    </div>
                </div>
            </div>

            <div id="latopalya" class="page-content hidden">
                 <div class="mb-6 p-6 bg-warm-gray rounded-lg shadow">
                    <h2 class="text-2xl font-bold text-brown-dark mb-2">A L√°t√≥p√°lya Szerkezete</h2>
                    <p class="text-brown-medium">A l√°t√≥p√°lya az idegrendszer azon √∂sszetett r√©sze, amely a vizu√°lis inform√°ci√≥t a szem retin√°j√°b√≥l az agy l√°t√≥k√©rg√©be tov√°bb√≠tja. Kattintson az √°bra elemeire a r√©szletes le√≠r√°s√©rt, √©s ismerje meg a p√°lya s√©r√ºl√©seinek lehets√©ges k√∂vetkezm√©nyeit.</p>
                </div>
                <div class="flex flex-col items-center">
                    <div class="bg-warm-gray rounded-lg shadow p-6 w-full">
                        <h3 class="font-bold text-lg mb-4 text-center text-brown-dark">A L√°t√≥p√°lya Interakt√≠v √Åbr√°ja</h3>
                        <div class="pathway-diagram">
                            <div data-path-id="retina" class="path-item absolute top-1/2 -translate-y-1/2 left-2 w-16 h-16 bg-blue-200 rounded-full flex items-center justify-center text-center text-xs font-semibold border-2 border-blue-400">Retina</div>
                            <div class="absolute top-1/2 -translate-y-px left-[4.5rem] w-[calc(11rem-4.5rem)] h-1 bg-gray-400"></div>
                            <div data-path-id="n-opticus" class="path-item absolute top-1/2 -translate-y-1/2 left-[11rem] w-20 h-10 bg-green-200 rounded-lg flex items-center justify-center text-center text-xs font-semibold border-2 border-green-400">N. Opticus (CN II)</div>
                            <div data-path-id="lesion-a" class="path-item absolute top-1/2 -translate-y-[150%] left-[12.5rem] w-6 h-6 bg-red-500 rounded-full flex items-center justify-center text-white font-bold text-xs" title="S√©r√ºl√©s: A">A</div>
                            <div class="absolute top-1/2 -translate-y-px left-[16rem] w-[calc(18rem-16rem)] h-1 bg-gray-400"></div>
                            <div data-path-id="chiasma" class="path-item absolute top-1/2 -translate-y-1/2 left-[18rem] w-20 h-20 bg-purple-200 rounded-xl flex items-center justify-center text-center text-xs font-semibold border-2 border-purple-400 transform -skew-x-12">Chiasma Opticum</div>
                            <div data-path-id="lesion-b" class="path-item absolute top-1/2 -translate-y-[150%] left-[20rem] w-6 h-6 bg-red-500 rounded-full flex items-center justify-center text-white font-bold text-xs" title="S√©r√ºl√©s: B">B</div>
                            <div class="absolute top-1/2 -translate-y-px left-[23rem] w-[calc(25rem-23rem)] h-1 bg-gray-400"></div>
                            <div data-path-id="tractus" class="path-item absolute top-1/2 -translate-y-1/2 left-[25rem] w-20 h-10 bg-yellow-200 rounded-lg flex items-center justify-center text-center text-xs font-semibold border-2 border-yellow-400">Tractus Opticus</div>
                            <div data-path-id="lesion-c" class="path-item absolute top-1/2 -translate-y-[150%] left-[27.5rem] w-6 h-6 bg-red-500 rounded-full flex items-center justify-center text-white font-bold text-xs" title="S√©r√ºl√©s: C">C</div>
                            <div class="absolute top-1/2 -translate-y-px left-[30rem] w-[calc(32rem-30rem)] h-1 bg-gray-400"></div>
                            <div data-path-id="cgl" class="path-item absolute top-1/2 -translate-y-1/2 left-[32rem] w-20 h-16 bg-orange-200 rounded-lg flex items-center justify-center text-center text-xs font-semibold border-2 border-orange-400">CGL</div>
                            <div class="absolute top-1/2 -translate-y-px left-[37rem] w-[calc(39rem-37rem)] h-1 bg-gray-400"></div>
                            <div data-path-id="radiatio" class="path-item absolute top-1/2 -translate-y-1/2 left-[39rem] w-24 h-12 bg-pink-200 rounded-lg flex items-center justify-center text-center text-xs font-semibold border-2 border-pink-400">Radiatio Optica</div>
                            <div class="absolute top-1/2 -translate-y-px left-[45rem] w-[calc(47rem-45rem)] h-1 bg-gray-400"></div>
                            <div data-path-id="cortex" class="path-item absolute top-1/2 -translate-y-1/2 left-[47rem] w-24 h-20 bg-teal-200 rounded-lg flex items-center justify-center text-center text-xs font-semibold border-2 border-teal-400">Primer L√°t√≥k√©reg (V1)</div>
                        </div>
                    </div>
                    <div id="pathway-details" class="bg-warm-gray rounded-lg shadow p-6 mt-6 w-full">
                        <p class="text-center text-brown-medium">Kattintson az √°bra egy elem√©re a le√≠r√°s megtekint√©s√©hez.</p>
                    </div>
                </div>
            </div>

            <div id="gyakorlas" class="page-content hidden">
                <div class="mb-6 p-6 bg-warm-gray rounded-lg shadow">
                    <h2 class="text-2xl font-bold text-brown-dark mb-2">Gyakorl√°s: Tud√°spr√≥ba</h2>
                    <p class="text-brown-medium">Tesztelje tud√°s√°t a tanultakr√≥l! V√°lasszon egy t√©mak√∂rt, √©s v√°laszoljon a k√©rd√©sekre.</p>
                </div>
                <div id="quiz-container" class="bg-warm-gray rounded-lg shadow p-6">
                    <!-- Quiz content will be injected here by JS -->
                </div>
            </div>
        </main>

        <footer class="bg-warm-gray mt-8 py-6">
            <div class="container mx-auto text-center text-brown-medium text-sm px-4">
                <p>&copy; 2025 Interakt√≠v Anat√≥mia Kalauz. K√©sz√ºlt a forr√°sanyag alapj√°n.</p>
                <p class="mt-2">Tov√°bbi felfedez√©shez: <a href="https://human.biodigital.com/" target="_blank" rel="noopener noreferrer" class="font-semibold text-brown-dark hover:underline">BioDigital Human (3D)</a></p>
                
                <div class="mt-6 pt-6 border-t border-brown-light/50">
                    <h4 class="font-bold text-lg text-brown-dark mb-4">Felhaszn√°lt Forr√°sok</h4>
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-x-6 gap-y-2 text-xs text-left">
                        <p>1. Moore, K. L., Dalley, A. F., & Agur, A. M. R. (2018). *Clinically Oriented Anatomy*.</p>
                        <p>2. Standring, S. (Ed.). (2021). *Gray's Anatomy: The Anatomical Basis of Clinical Practice*.</p>
                        <p>3. Netter, F. H. (2019). *Atlas of Human Anatomy*.</p>
                        <p>4. Drake, R. L., Vogl, A. W., & Mitchell, A. W. M. (2020). *Gray's Anatomy for Students*.</p>
                        <p>5. White, T. D., & Folkens, P. A. (2005). *The Human Bone Manual*.</p>
                        <p>6. Scheuer, L., & Black, S. (2004). *The Juvenile Skeleton*.</p>
                        <p>7. Agur, A. M. R., & Dalley, A. F. (2017). *Grant's Atlas of Anatomy*.</p>
                        <p>8. Rohen, J. W., Yokochi, C., & L√ºtjen-Drecoll, E. (2015). *Color Atlas of Anatomy*.</p>
                        <p>9. Sch√ºnke, M., Schulte, E., & Schumacher, U. (2021). *Thieme Atlas of Anatomy: Head, Neck, and Neuroanatomy*.</p>
                        <p>10. Szent√°gothai J., R√©thelyi M. (1994). *Funkcion√°lis Anat√≥mia*.</p>
                        <p>11. Aiello, L., & Dean, C. (1990). *An Introduction to Human Evolutionary Anatomy*.</p>
                        <p>12. Blumenfeld, H. (2010). *Neuroanatomy through Clinical Cases*.</p>
                        <p>13. Haines, D. E. (2018). *Neuroanatomy: An Atlas of Structures, Sections, and Systems*.</p>
                        <p>14. Osborn, A. G. (1999). *Diagnostic Cerebral Angiography*.</p>
                        <p>15. Harnsberger, H. R., & Osborn, A. G. (2021). *Diagnostic and Surgical Imaging Anatomy: Brain, Head and Neck, Spine*.</p>
                        <p>16. Okeson, J. P. (2013). *Management of Temporomandibular Disorders and Occlusion*.</p>
                        <p>17. Kenhub.com. (n.d.). *Online Anatomy, Histology, and Medical Imaging Learning Platform*.</p>
                        <p>18. TeachMeAnatomy.info. (n.d.). *Anatomy & Clinical Education*.</p>
                        <p>19. Saladin, K. S. (2018). *Anatomy & Physiology: The Unity of Form and Function*.</p>
                        <p>20. D√§hnert, W. (2011). *Radiology Review Manual*.</p>
                        <p>21. Standring, S. (2020). *Gray's Surgical Anatomy*.</p>
                        <p>22. Greenberg, M. S. (2020). *Handbook of Neurosurgery*.</p>
                        <p>23. Sadler, T. W. (2019). *Langman's Medical Embryology*.</p>
                        <p>24. Bogduk, N. (2012). *Clinical and Radiological Anatomy of the Lumbar Spine*.</p>
                        <p>25. Palastanga, N., & Soames, R. (2012). *Anatomy and Human Movement: Structure and Function*.</p>
                        <p>26. Som, P. M., & Curtin, H. D. (2011). *Head and Neck Imaging*.</p>
                        <p>27. Kaufman, M. H. (1999). *The Atlas of Mouse Development*.</p>
                        <p>28. Gaillard, F., & Jones, J. (n.d.). Radiopaedia.org. *Collaborative Radiology Resource*.</p>
                        <p>29. Snell, R. S. (2010). *Clinical Neuroanatomy*.</p>
                        <p>30. Waxman, S. G. (2013). *Clinical Neuroanatomy*.</p>
                        <p>31. Gilroy, A. M., MacPherson, B. R., & Ross, L. M. (2012). *Atlas of Anatomy*.</p>
                        <p>32. Clemente, C. D. (2011). *Clemente's Anatomy Dissector*.</p>
                    </div>
                </div>
            </div>
        </footer>
    </div>

<script>
document.addEventListener('DOMContentLoaded', () => {

    const anatomyData = {
        koponya: {
            agykoponya: [
                {
                    id: 'os-frontale', name: 'Homlokcsont (Os Frontale)',
                    jellemzok: `P√°ratlan, kagyl√≥ alak√∫ csont, a homlok form√°j√°t adja. R√©szei: pikkelyr√©sz (squama frontalis), k√©t szem√ºregi r√©sz (pars orbitalis) √©s egy orri r√©sz (pars nasalis). Bel√ºl tal√°lhat√≥ a homlok√ºreg ($sinus frontalis$). Fontos k√©plete a $margo supraorbitalis$ a $foramen supraorbitale$-val, ahol a homlokot ell√°t√≥ ideg √©s erek l√©pnek ki.`,
                    izesulesek: `Falcsontokkal (sutura coronalis), √©kcsonttal, rostacsonttal, orrcsontokkal, fels≈ë √°llcsontokkal, k√∂nnycsontokkal, j√°romcsontokkal.`,
                    klinikai: `S√©r√ºl√©sei gyakoriak. A sinus frontalis h√°ts√≥ fal√°nak t√∂r√©se liquorrhoe√°hoz (agyv√≠zcsorg√°shoz) vezethet.`
                },
                {
                    id: 'os-parietale', name: 'Falcsont (Os Parietale)',
                    jellemzok: `P√°ros, n√©gysz√∂glet≈± lapos csont, az agykoponya tetej√©t √©s oldal√°t alkotja. Bels≈ë felsz√≠n√©n az $arteria meningea media$ √°gai hagynak bar√°zd√°kat. K√ºls≈ë felsz√≠n√©n tapad a hal√°nt√©kizom.`,
                    izesulesek: `A m√°sik falcsonttal (sutura sagittalis), homlokcsonttal (sutura coronalis), nyakszirtcsonttal (sutura lambdoidea) √©s hal√°nt√©kcsonttal (sutura squamosa).`,
                    klinikai: `V√©di az agy √©rz≈ë √©s asszoci√°ci√≥s ter√ºleteit. T√∂r√©se epidur√°lis v√©rz√©st okozhat az $a. meningea media$ s√©r√ºl√©se miatt.`
                },
                {
                    id: 'os-temporale', name: 'Hal√°nt√©kcsont (Os Temporale)',
                    jellemzok: `P√°ros, bonyolult fel√©p√≠t√©s≈± csont a f√ºl k√∂r√ºl. R√©szei: pikkelyr√©sz ($pars squamosa$), sziklacsonti r√©sz ($pars petrosa$), dob√ºregi r√©sz ($pars tympanica$), csecsny√∫lv√°nyi r√©sz ($pars mastoidea$). Befogadja a hall√≥- √©s egyens√∫lyoz√≥ szervet. Fontos k√©pletei: $processus zygomaticus$ (a j√°rom√≠v r√©sze), $fossa mandibularis$ (az √°llkapocs√≠z√ºlethez), $meatus acusticus externus$ √©s $internus$, $canalis caroticus$ ($a. carotis interna$ sz√°m√°ra).`,
                    izesulesek: `Nyakszirtcsonttal, falcsonttal, √©kcsonttal, j√°romcsonttal √©s az √°llkapoccsal (√°llkapocs√≠z√ºlet).`,
                    klinikai: `Rendk√≠v√ºl sokr√©t≈± funkci√≥i miatt s√©r√ºl√©sei vagy gyullad√°sai (pl. mastoiditis) s√∫lyos k√∂vetkezm√©nyekkel j√°rhatnak. Sz√°mos agyideg (VII, VIII, IX, X, XI) halad √°t rajta.`
                },
                {
                    id: 'os-occipitale', name: 'Nyakszirtcsont (Os Occipitale)',
                    jellemzok: `P√°ratlan csont, a koponya h√°ts√≥-als√≥ r√©sz√©t alkotja. K√∂zep√©n tal√°lhat√≥ a $foramen magnum$ (√∂reglyuk), ahol a ny√∫ltvel≈ë a gerincvel≈ëbe folytat√≥dik, √©s fontos erek, idegek haladnak √°t. K√©pletei: $condyli occipitales$ (az atlasszal √≠zes√ºl), $clivus$ (az agyt√∂rzs fekv≈ëhelye), $protuberantia occipitalis externa$ (tark√≥n tapinthat√≥).`,
                    izesulesek: `Falcsontokkal (sutura lambdoidea), hal√°nt√©kcsontokkal, √©kcsonttal √©s az els≈ë nyakcsigoly√°val (atlas).`,
                    klinikai: `Kulcsfontoss√°g√∫ a koponya √©s a gerinc kapcsolat√°ban. A foramen magnum k√∂r√ºli s√©r√ºl√©sek √©letvesz√©lyesek lehetnek az agyt√∂rzs k√∂zels√©ge miatt.`
                },
                {
                    id: 'os-sphenoidale', name: '√âkcsont (Os Sphenoidale)',
                    jellemzok: `P√°ratlan, "√©kk≈ëk√©nt" a koponyaalap k√∂zep√©n elhelyezked≈ë, pillang√≥ alak√∫ csont. R√©szei: test, kis sz√°rnyak, nagy sz√°rnyak, r√∂pny√∫lv√°nyok. A test√©ben tal√°lhat√≥ a $sella turcica$ (t√∂r√∂knyereg), amely a hypophysist (agyalapi mirigy) fogadja be. Sz√°mos ny√≠l√°st tartalmaz agyidegek √©s erek sz√°m√°ra ($canalis opticus$, $fissura orbitalis superior$, $foramen rotundum$, $foramen ovale$).`,
                    izesulesek: `Szinte minden agykoponya- √©s t√∂bb arckoponyacsonttal is √≠zes√ºl, stabiliz√°lva a kopony√°t.`,
                    klinikai: `K√∂zponti elhelyezked√©se miatt s√©r√ºl√©sei vagy daganatai v√°ltozatos neurol√≥giai √©s endokrin t√ºneteket okozhatnak. A $sella turcica$ k√∂r√ºli daganat l√°t√≥t√©rkies√©st okozhat.`
                },
                {
                    id: 'os-ethmoidale', name: 'Rostacsont (Os Ethmoidale)',
                    jellemzok: `P√°ratlan, szivacsos, kocka alak√∫ csont a szem√ºregek k√∂z√∂tt, az orr√ºreg tetej√©n. R√©szei: $lamina cribrosa$ (szitalemez), amelyen a szagl√≥ideg rostjai l√©pnek be; $lamina perpendicularis$ (az orrs√∂v√©ny r√©sze); √©s a labyrinthusok, amelyek a rostasejteket ($cellulae ethmoidales$) √©s az orrkagyl√≥kat (fels≈ë, k√∂z√©ps≈ë) tartalmazz√°k. A $crista galli$ a $falx cerebri$ r√∂gz√≠t√©s√©re szolg√°l.`,
                    izesulesek: `Homlokcsonttal, √©kcsonttal, orrcsontokkal, fels≈ë √°llcsontokkal, k√∂nnycsontokkal, sz√°jpadcsontokkal √©s az ekecsonttal.`,
                    klinikai: `A $lamina cribrosa$ s√©r√ºl√©se szagl√°sveszt√©shez √©s liquorrhoe√°hoz vezethet. Gyullad√°sa ($ethmoiditis$) k√∂nnyen √°tterjedhet a szem√ºregre a v√©kony $lamina papyracea$ miatt.`
                }
            ],
            arckoponya: [
                 { 
                    id: 'maxilla', name: 'Fels≈ë √°llcsont (Maxilla)',
                    jellemzok: `P√°ros csont, a fels≈ë √°ll√≠vet alkotja. Befogadja a fels≈ë fogakat. Test√©ben van a legnagyobb orrmell√©k√ºreg, a $sinus maxillaris$ (Highmore-√ºreg). Ny√∫lv√°nyai: homloki, j√°romcsonti, fogmedri √©s sz√°jpadny√∫lv√°ny (a kem√©ny sz√°jpad el√ºls≈ë r√©sz√©t k√©pezi).`,
                    izesulesek: `Sok csonttal √≠zes√ºl, k√∂zponti szerepet j√°tszik az arc k√∂z√©ps≈ë r√©sz√©nek fel√©p√≠t√©s√©ben.`,
                    klinikai: `A sinus maxillaris k√∂zels√©ge a foggy√∂kerekhez miatt gyakori a fog√°szati eredet≈± arc√ºreggyullad√°s.`
                },
                { 
                    id: 'mandibula', name: '√Ållkapocscsont (Mandibula)',
                    jellemzok: `P√°ratlan, patk√≥ alak√∫, a koponya egyetlen mozg√©kony csontja. R√©szei: test ($corpus$) √©s k√©t √°g ($ramus$). A testen van a fogmedri r√©sz az als√≥ fogaknak. A ramus a $processus coronoideus$-ban √©s a $processus condylaris$-ban v√©gz≈ëdik, ut√≥bbi alkotja az √°llkapocs√≠z√ºletet.`,
                    izesulesek: `A k√©toldali hal√°nt√©kcsonttal az $articulatio temporomandibularis$ (√°llkapocs√≠z√ºlet) r√©v√©n.`,
                    klinikai: `Alapvet≈ë a r√°g√°sban √©s a besz√©dben. √çz√ºleti diszfunkci√≥i (TMD) gyakoriak.`
                },
                { 
                    id: 'os-zygomaticum', name: 'J√°romcsont (Os Zygomaticum)',
                    jellemzok: `P√°ros csont, a pofacsontot alkotja. R√©szt vesz a szem√ºreg oldals√≥ √©s als√≥ fal√°nak kialak√≠t√°s√°ban. A hal√°nt√©kcsonttal alkotja a j√°rom√≠vet ($arcus zygomaticus$).`,
                    izesulesek: `Homlokcsonttal, hal√°nt√©kcsonttal, √©kcsonttal √©s fels≈ë √°llcsonttal.`,
                    klinikai: `Gyakran s√©r√ºl arctraum√°k sor√°n, t√∂r√©se arcdeformit√°st √©s funkcion√°lis zavarokat (pl. kett≈ës l√°t√°s) okozhat.`
                },
                { 
                    id: 'os-nasale', name: 'Orrcsont (Os Nasale)',
                    jellemzok: `P√°ros, kicsi, t√©glalap alak√∫ csont, amely az orrgy√∂k√∂t alkotja.`,
                    izesulesek: `Homlokcsonttal, fels≈ë √°llcsonttal, rostacsonttal √©s a m√°sik oldali orrcsonttal.`,
                    klinikai: `Expon√°lt helyzete miatt az egyik leggyakrabban t√∂r√∂tt arccsont.`
                },
                { 
                    id: 'os-lacrimale', name: 'K√∂nnycsont (Os Lacrimale)',
                    jellemzok: `P√°ros, az arckoponya legkisebb csontja. A szem√ºreg medi√°lis fal√°n helyezkedik el. Rajta tal√°lhat√≥ a k√∂nnyt√∂ml≈ë √°rka ($fossa sacci lacrimalis$).`,
                    izesulesek: `Homlokcsonttal, rostacsonttal, fels≈ë √°llcsonttal √©s az als√≥ orrkagyl√≥val.`,
                    klinikai: `Fontos a k√∂nnyelvezet≈ë rendszer m≈±k√∂d√©s√©ben. T√∂r√©keny, k√∂nnyen s√©r√ºl.`
                },
                { 
                    id: 'os-palatinum', name: 'Sz√°jpadcsont (Os Palatinum)',
                    jellemzok: `P√°ros, L-alak√∫ csont. V√≠zszintes lemeze ($lamina horizontalis$) a kem√©ny sz√°jpad h√°ts√≥ r√©sz√©t alkotja. F√ºgg≈ëleges lemeze ($lamina perpendicularis$) az orr√ºreg oldalfal√°nak r√©sze.`,
                    izesulesek: `√âkcsonttal, rostacsonttal, fels≈ë √°llcsonttal, als√≥ orrkagyl√≥val, ekecsonttal √©s a m√°sik sz√°jpadcsonttal.`,
                    klinikai: `Fejl≈ëd√©si zavara sz√°jpadhasad√©kot okozhat.`
                },
                { 
                    id: 'vomer', name: 'Ekecsont (Vomer)',
                    jellemzok: `P√°ratlan, ekevas alak√∫ csont, az orrs√∂v√©ny h√°ts√≥-als√≥ csontos r√©sz√©t alkotja.`,
                    izesulesek: `√âkcsonttal, rostacsonttal, fels≈ë √°llcsontokkal √©s sz√°jpadcsontokkal.`,
                    klinikai: `Az orrs√∂v√©nyferd√ºl√©s gyakran √©rinti, ami l√©gz√©si neh√©zs√©get okozhat.`
                },
                { 
                    id: 'concha-nasalis-inferior', name: 'Als√≥ orrkagyl√≥ (Concha Nasalis Inferior)',
                    jellemzok: `P√°ros, √∂n√°ll√≥ csont (ellent√©tben a fels≈ë √©s k√∂z√©ps≈ë orrkagyl√≥val, amik a rostacsont r√©szei). Az orr√ºreg oldalfal√°n helyezkedik el, jelent≈ësen n√∂veli a l√©gz≈ëny√°lkah√°rtya felsz√≠n√©t.`,
                    izesulesek: `Fels≈ë √°llcsonttal, k√∂nnycsonttal, rostacsonttal √©s sz√°jpadcsonttal.`,
                    klinikai: `Duzzanata (pl. allergia miatt) orrdugul√°st okoz.`
                }
            ]
        },
        gerinc: [
            {
                id: 'cervicalis', name: 'Nyaki szakasz (C1-C7)',
                jellemzok: `H√©t csigoly√°b√≥l √°ll, a gerinc legmozg√©konyabb szakasza. A tipikus nyakcsigoly√°k (C3-C6) teste kicsi, t√∂visny√∫lv√°nya vill√°s, har√°ntny√∫lv√°ny√°n pedig lyuk ($foramen transversarium$) tal√°lhat√≥ az $arteria vertebralis$ sz√°m√°ra.`,
                atipikus: `
                    <ul class="list-disc list-inside space-y-2 text-sm">
                        <li><b>Atlas (C1):</b> Gy≈±r≈± alak√∫, nincs teste. Lehet≈ëv√© teszi a fej b√≥lint√≥ mozg√°s√°t.</li>
                        <li><b>Axis (C2):</b> Felfel√© ny√∫l√≥ fogny√∫lv√°nya ($dens axis$) van, ami a fej forg√°s√°t biztos√≠tja.</li>
                        <li><b>Vertebra prominens (C7):</b> Hossz√∫, j√≥l tapinthat√≥ t√∂visny√∫lv√°nya van.</li>
                    </ul>
                `,
                klinikai: `Nagy mozg√©konys√°ga miatt s√©r√ºl√©keny, gyakoriak a degenerat√≠v elv√°ltoz√°sok (pl. porckorongs√©rv).`
            },
            {
                id: 'thoracalis', name: 'H√°ti szakasz (T1-T12)',
                jellemzok: `Tizenk√©t csigoly√°b√≥l √°ll, mindegyikhez egy bordap√°r √≠zes√ºl, √≠gy a mellkas v√°z√°t k√©pezi. A legkev√©sb√© mozg√©kony szakasz. Test√ºk√∂n √©s har√°ntny√∫lv√°nyukon √≠z√ºleti felsz√≠nek ($foveae costales$) vannak a bord√°knak. T√∂visny√∫lv√°nyaik hossz√∫ak √©s meredeken lefel√© ir√°nyulnak.`,
                atipikus: `A T1, T9, T10, T11 √©s T12 csigoly√°k a bord√°kkal val√≥ √≠zes√ºl√©s m√≥dj√°ban elt√©rnek a tipikus h√°ti csigoly√°kt√≥l, √°tmenetet k√©pezve a szomsz√©dos szakaszok fel√©.`,
                klinikai: `Merevs√©ge fontos a mellkas stabilit√°s√°hoz. G√∂rb√ºlete a kyphosis (h√°trafel√© domborod√≥).`
            },
            {
                id: 'lumbalis', name: '√Ågy√©ki szakasz (L1-L5)',
                jellemzok: `√ñt csigoly√°b√≥l √°ll. Ezek a gerinc legnagyobb, leger≈ësebb csigoly√°i, mivel a test s√∫ly√°nak jelent≈ës r√©sz√©t viselik. Test√ºk nagy, vese alak√∫. T√∂visny√∫lv√°nyuk r√∂vid, vastag, b√°rd alak√∫. √çz√ºleti felsz√≠neik els≈ësorban el≈ëre- √©s h√°trahajl√°st tesznek lehet≈ëv√©.`,
                atipikus: `Az L5 csigolya √©k alak√∫ testtel rendelkezik, hogy illeszkedjen a keresztcsonthoz.`,
                klinikai: `Nagy terhel√©se miatt itt a leggyakoribb a porckorongs√©rv √©s a der√©kf√°jdalom. Term√©szetes g√∂rb√ºlete a lordosis (el≈ëre domborod√≥).`
            },
            {
                id: 'sacrum', name: 'Keresztcsont (Os Sacrum)',
                jellemzok: `√ñt keresztcsonti csigolya (S1-S5) √∂sszecsontosod√°s√°b√≥l j√∂n l√©tre. √âk alak√∫, a medence h√°ts√≥ fal√°t alkotja. Fels≈ë r√©sze, a $promontorium$, fontos sz√ºl√©szeti t√°j√©koz√≥d√°si pont. El√ºls≈ë √©s h√°ts√≥ felsz√≠n√©n lyukak ($foramina sacralia$) vannak a gerincvel≈ëi idegek kil√©p√©s√©re.`,
                izesulesek: `Fel√ºl az L5 csigoly√°val, oldalt a cs√≠p≈ëcsontokkal (sacroiliacalis √≠z√ºlet), alul a farkcsonttal.`,
                klinikai: `Fontos szerepe van a tests√∫ly √°tvitel√©ben a gerincr≈ël az als√≥ v√©gtagokra.`
            },
            {
                id: 'coccyx', name: 'Farkcsont (Os Coccygis)',
                jellemzok: `3-5 cs√∂kev√©nyes farkcsonti csigolya (Co1-Co5) √∂sszecsontosod√°s√°b√≥l √°ll√≥ kis, h√°romsz√∂glet≈± csont. Az emberi testben cs√∂kev√©nyes farokv√°znak felel meg.`,
                izesulesek: `Fel√ºl a keresztcsonttal.`,
                klinikai: `Fontos izmok √©s szalagok tapad√°si helye a medencefen√©ken. S√©r√ºl√©se (t√∂r√©s, z√∫z√≥d√°s) es√©s k√∂vetkezt√©ben fordulhat el≈ë √©s rendk√≠v√ºl f√°jdalmas lehet.`
            }
        ],
        koponyagodrok: {
            'fossa-anterior': {
                name: 'El√ºls≈ë koponyag√∂d√∂r (Fossa Cranii Anterior)',
                hatarai: '<b>El√∂l √©s oldalt:</b> homlokcsont pikkelyr√©sze. <br><b>H√°tul:</b> √©kcsont kis sz√°rnyainak h√°ts√≥ sz√©le √©s a limbus sphenoidalis. <br><b>Alapja:</b> homlokcsont szem√ºregi r√©szei, rostacsont szitalemeze, √©kcsont teste √©s kis sz√°rnyai.',
                tartalma: 'Az agy homloklebenyeit ($lobi frontales$), a szagl√≥gum√≥kat ($bulbi olfactorii$) fogadja be. Itt tal√°lhat√≥ a $crista galli$ √©s a $crista frontalis$ a kem√©ny agyh√°rtya r√∂gz√≠t√©s√©re.',
                nyilasok: [
                    { name: 'Foramina cribrosa', bone: 'Rostacsont (Os ethmoidale)', content: 'Szagl√≥idegek ($Nn. olfactorii$, CN I)' },
                    { name: 'Foramen ethmoidale anterius', bone: 'Rosta- √©s homlokcsont hat√°ra', content: 'A. et v. ethmoidalis anterior, N. ethmoidalis anterior' },
                    { name: 'Foramen ethmoidale posterius', bone: 'Rosta- √©s √©kcsont hat√°ra', content: 'A. et v. ethmoidalis posterior, N. ethmoidalis posterior' },
                    { name: 'Foramen caecum', bone: 'Homlok- √©s rostacsont hat√°ra', content: 'Emisszi√≥s v√©na (inkonstans)' }
                ]
            },
            'fossa-media': {
                name: 'K√∂z√©ps≈ë koponyag√∂d√∂r (Fossa Cranii Media)',
                hatarai: '<b>El√∂l:</b> √©kcsont kis sz√°rnyainak h√°ts√≥ sz√©le. <br><b>H√°tul:</b> hal√°nt√©kcsont sziklacsontj√°nak fels≈ë √©le √©s a dorsum sellae. <br><b>Oldalt:</b> √©kcsont nagy sz√°rnyai, hal√°nt√©kcsont pikkelyr√©sze.',
                tartalma: 'Az agy hal√°nt√©klebenyeit ($lobi temporales$) √©s az agyalapi mirigyet ($hypophysis$) fogadja be a $sella turcica$-ban. Itt tal√°lhat√≥ a l√°t√≥ideg-keresztez≈ëd√©s ($chiasma opticum$) √©s a $sinus cavernosus$.',
                nyilasok: [
                    { name: 'Canalis opticus', bone: '√âkcsont (Os sphenoidale)', content: 'L√°t√≥ideg ($N. opticus$, CN II), Szem√ºregi art√©ria ($A. ophthalmica$)' },
                    { name: 'Fissura orbitalis superior', bone: '√âkcsont (kis √©s nagy sz√°rny k√∂z√∂tt)', content: 'CN III, IV, V/1, VI agyidegek, V. ophthalmica superior, Sympathicus rostok' },
                    { name: 'Foramen rotundum', bone: '√âkcsont (Os sphenoidale)', content: '$N. maxillaris$ (CN V/2)' },
                    { name: 'Foramen ovale', bone: '√âkcsont (Os sphenoidale)', content: '$N. mandibularis$ (CN V/3), A. meningea accessoria, (N. petrosus minor ‚Äì inkonzisztens)' },
                    { name: 'Foramen spinosum', bone: '√âkcsont (Os sphenoidale)', content: 'A. et V. meningea media, Ramus meningeus n. mandibularis (N. spinosus)' },
                    { name: 'Foramen lacerum', bone: '√âk-, hal√°nt√©k-, nyakszirtcsont hat√°ra', content: 'Porccal kit√∂lt√∂tt; N. petrosus major (√°thalad a porcon vagy mellette), kisebb erek' }
                ]
            },
            'fossa-posterior': {
                name: 'H√°tuls√≥ koponyag√∂d√∂r (Fossa Cranii Posterior)',
                hatarai: '<b>El√∂l:</b> dorsum sellae √©s a clivus. <br><b>H√°tul √©s oldalt:</b> nyakszirtcsont √©s a hal√°nt√©kcsont sziklacsonti, valamint csecsny√∫lv√°nyi r√©sze.',
                tartalma: 'A kisagyat ($cerebellum$), a hidat ($pons$) √©s a ny√∫ltvel≈ët ($medulla oblongata$) fogadja be.',
                nyilasok: [
                    { name: 'Foramen magnum', bone: 'Nyakszirtcsont (Os occipitale)', content: 'Ny√∫ltvel≈ë/gerincvel≈ë √°tmenet, Aa. vertebrales, CN XI gerincvel≈ëi gy√∂kerei' },
                    { name: 'Meatus acusticus internus', bone: 'Hal√°nt√©kcsont (Os temporale)', content: 'Arcideg ($N. facialis$, CN VII), Hall√≥- √©s egyens√∫lyoz√≥ ideg ($N. vestibulocochlearis$, CN VIII), A. et V. labyrinthi' },
                    { name: 'Foramen jugulare', bone: 'Hal√°nt√©k- √©s nyakszirtcsont hat√°ra', content: 'CN IX, X, XI agyidegek, V. jugularis interna (kezdet), Sinus petrosus inferior, Sinus sigmoideus' },
                    { name: 'Canalis nervi hypoglossi', bone: 'Nyakszirtcsont (Os occipitale)', content: 'Nyelv alatti ideg ($N. hypoglossus$, CN XII), Plexus venosus canalis nervi hypoglossi' }
                ]
            }
        },
        latopalya: {
            retina: { title: 'Retina (l√°t√≥h√°rtya)', desc: 'A szem legbels≈ë, f√©ny√©rz√©keny r√©tege. A fotoreceptor sejtek (csapok √©s p√°lcik√°k) a f√©nyingert elektromos jell√© alak√≠tj√°k, amelyet a bipol√°ris √©s ganglionsejtek tov√°bb√≠tanak.' },
            'n-opticus': { title: 'Nervus Opticus (L√°t√≥ideg, CN II)', desc: 'A retina ganglionsejtjeinek axonjaib√≥l √°ll√≥ k√∂teg, amely a vizu√°lis inform√°ci√≥t a szemb≈ël a chiasma opticum fel√© vezeti.' },
            'chiasma': { title: 'Chiasma Opticum (L√°t√≥ideg-keresztez≈ëd√©s)', desc: 'A k√©t l√°t√≥ideg tal√°lkoz√°si √©s r√©szleges keresztez≈ëd√©si helye. A mindk√©t szem nasalis (orri) retinafel√©b≈ël sz√°rmaz√≥ rostok itt √°tkeresztez≈ëdnek az ellenoldalra.' },
            'tractus': { title: 'Tractus Opticus', desc: 'A chiasma ut√°ni p√°lyaszakasz. Az azonos oldali temporalis (hal√°nt√©ki) √©s az ellenoldali nasalis retinaf√©l rostjait tartalmazza, teh√°t a l√°t√≥t√©r ellenkez≈ë oldali fel√©nek inform√°ci√≥j√°t vezeti.' },
            'cgl': { title: 'Corpus Geniculatum Laterale (CGL)', desc: 'A thalamus r√©sze, a l√°t√≥p√°lya f≈ë √°tkapcsol√≥ √°llom√°sa. A tractus opticus rostjai itt v√©gz≈ëdnek, √©s az inform√°ci√≥ a k√∂vetkez≈ë neuronra kapcsol√≥dik √°t.' },
            'radiatio': { title: 'Radiatio Optica (L√°t√≥sug√°rz√°s)', desc: 'A CGL-b≈ël kiindul√≥ rostok legyez≈ëszer≈±en sz√©tt√©rve haladnak a primer l√°t√≥k√©reg fel√© a hal√°nt√©k- √©s fali lebenyeken kereszt√ºl.' },
            'cortex': { title: 'Primer L√°t√≥k√©reg (V1)', desc: 'A nyakszirtcsont lebeny√©ben (lobus occipitalis) tal√°lhat√≥ agyk√©rgi ter√ºlet, ahol a vizu√°lis inform√°ci√≥ tudatosul √©s megkezd≈ëdik a k√©p feldolgoz√°sa.' },
            'lesion-a': { title: 'S√©r√ºl√©s (A): L√°t√≥ideg s√©r√ºl√©se', desc: 'üß† Az azonos oldali szem teljes vaks√°g√°t (anopia) okozza, mivel a s√©r√ºl√©s a chiasma el≈ëtti √∂sszes inform√°ci√≥t blokkolja az adott szemb≈ël.' },
            'lesion-b': { title: 'S√©r√ºl√©s (B): Chiasma opticum s√©r√ºl√©se', desc: 'üß† Jellemz≈ëen a keresztez≈ëd≈ë nasalis rostokat √©rinti (pl. hypophysis daganat miatt). Ez bitemporalis hemianopi√°t okoz, azaz mindk√©t szem hal√°nt√©ki l√°t√≥tere kiesik.' },
            'lesion-c': { title: 'S√©r√ºl√©s (C): Tractus opticus s√©r√ºl√©se', desc: 'üß† A chiasma ut√°ni s√©r√ºl√©s. Ellenoldali homonym hemianopi√°t okoz. Pl. a bal tractus s√©r√ºl√©se a jobb oldali l√°t√≥t√©r (jobb szem nasalis, bal szem temporalis fele) kies√©s√©t eredm√©nyezi.' }
        },
        quiz: {
            title: 'Gyakorl√≥ kv√≠z: Koponyag√∂dr√∂k',
            questions: [
                {
                    question: "Melyik ny√≠l√°son kereszt√ºl l√©p be a l√°t√≥ideg (N. opticus) a koponya√ºregbe?",
                    answers: ["Foramen rotundum", "Fissura orbitalis superior", "Canalis opticus", "Foramen ovale"],
                    correct: 2
                },
                {
                    question: "Melyik agykoponya-g√∂d√∂rben tal√°lhat√≥ a sella turcica (t√∂r√∂knyereg)?",
                    answers: ["Fossa cranii anterior", "Fossa cranii media", "Fossa cranii posterior", "Nem koponyag√∂d√∂rben van"],
                    correct: 1
                },
                {
                    question: "Mi halad √°t a foramen magnumon a ny√∫ltvel≈ën k√≠v√ºl?",
                    answers: ["N. trigeminus (CN V)", "A. carotis interna", "Aa. vertebrales", "N. facialis (CN VII)"],
                    correct: 2
                },
                 {
                    question: "A Fissura orbitalis superior melyik k√©t csontr√©sz k√∂z√∂tt tal√°lhat√≥?",
                    answers: ["Os frontale √©s os sphenoidale", "Os sphenoidale ala minor √©s ala major", "Os ethmoidale √©s os sphenoidale", "Os temporale √©s os sphenoidale"],
                    correct: 1
                }
            ]
        }
    };

    const navButtons = document.querySelectorAll('.nav-btn');
    const pages = document.querySelectorAll('.page-content');
    const boneListContainer = document.getElementById('bone-list');
    const boneDetailsContainer = document.getElementById('bone-details');
    const vertebraListContainer = document.getElementById('vertebra-list');
    const vertebraDetailsContainer = document.getElementById('vertebra-details');
    const fossaTabs = document.querySelectorAll('.fossa-tab');
    const fossaContentContainer = document.getElementById('fossa-content');
    const mobileMenuButton = document.getElementById('mobile-menu-button');
    const mobileMenu = document.getElementById('mobile-menu');
    const pathwayItems = document.querySelectorAll('.path-item');
    const pathwayDetailsContainer = document.getElementById('pathway-details');
    const quizContainer = document.getElementById('quiz-container');

    function switchPage(targetId) {
        pages.forEach(page => page.classList.toggle('hidden', page.id !== targetId));
        navButtons.forEach(btn => {
            const isActive = btn.dataset.target === targetId;
            btn.classList.toggle('nav-active', isActive);
            btn.classList.toggle('text-brown-medium', !isActive);
            btn.classList.toggle('hover:bg-stone-300', !isActive);
        });
        mobileMenu.classList.add('hidden'); // Close mobile menu on navigation
        if (targetId === "gyakorlas") {
            loadQuiz();
        }
    }

    function updateURL(hash) {
        if(history.pushState) {
            history.pushState(null, null, '#' + hash);
        } else {
            location.hash = '#' + hash;
        }
    }

    function handlePageLoad() {
        const hash = window.location.hash.substring(1);
        if (!hash) {
            switchPage('koponya');
            return;
        }

        const parts = hash.split('-');
        const pageId = parts[0];
        const elementId = hash;
        
        let targetPage;
        switch(pageId) {
            case 'os': targetPage = 'koponya'; break;
            case 'v': targetPage = 'gerinc'; break; // v for vertebra
            case 'fossa': targetPage = 'koponyagodrok'; break;
            default: targetPage = hash; break;
        }

        if (document.getElementById(targetPage)) {
            switchPage(targetPage);
        }

        setTimeout(() => {
            if (pageId === 'os') {
                const button = boneListContainer.querySelector(`[data-id='${elementId}']`);
                if (button) button.click();
            } else if (pageId === 'v') {
                const button = vertebraListContainer.querySelector(`[data-id='${hash.substring(2)}']`);
                if (button) button.click();
            } else if (pageId === 'fossa') {
                 const button = document.querySelector(`[data-fossa-target='${elementId}']`);
                 if (button) button.click();
            }
        }, 100);
    }
    
    mobileMenuButton.addEventListener('click', () => {
        mobileMenu.classList.toggle('hidden');
    });

    navButtons.forEach(btn => {
        btn.addEventListener('click', (e) => {
            const targetId = e.currentTarget.dataset.target;
            switchPage(targetId);
            updateURL(targetId);
        });
    });

    function createList(items, container, clickHandler, type, idPrefix) {
        let html = '';
        if (type === 'koponya') {
            html += '<h4 class="font-semibold text-md text-brown-medium my-2">Agykoponya (Neurocranium)</h4>';
            anatomyData.koponya.agykoponya.forEach(item => {
                html += `<button data-id="${item.id}" class="w-full text-left p-3 my-1 rounded-md border-l-4 border-transparent hover:bg-stone-300 transition-colors duration-200">${item.name}</button>`;
            });
            html += '<h4 class="font-semibold text-md text-brown-medium my-2 mt-4">Arckoponya (Viscerocranium)</h4>';
            anatomyData.koponya.arckoponya.forEach(item => {
                html += `<button data-id="${item.id}" class="w-full text-left p-3 my-1 rounded-md border-l-4 border-transparent hover:bg-stone-300 transition-colors duration-200">${item.name}</button>`;
            });
        } else {
             items.forEach(item => {
                html += `<button data-id="${item.id}" data-hash-id="${idPrefix}-${item.id}" class="w-full text-left p-3 my-1 rounded-md border-l-4 border-transparent hover:bg-stone-300 transition-colors duration-200">${item.name}</button>`;
            });
        }
        container.innerHTML = html;
        container.querySelectorAll('button').forEach(btn => {
            btn.addEventListener('click', (e) => {
                container.querySelectorAll('button').forEach(b => b.classList.remove('list-item-active'));
                e.currentTarget.classList.add('list-item-active');
                const id = e.currentTarget.dataset.id;
                clickHandler(id);
                updateURL(id);
            });
        });
    }

    function displayBoneDetails(boneId) {
        const bone = [...anatomyData.koponya.agykoponya, ...anatomyData.koponya.arckoponya].find(b => b.id === boneId);
        if (bone) {
            boneDetailsContainer.innerHTML = `
                <h3 id="${bone.id}" class="text-2xl font-bold text-brown-dark mb-4 border-b-2 border-brown-light pb-2">${bone.name}</h3>
                <div class="space-y-4">
                    <div>
                        <h4 class="font-semibold text-lg text-brown-medium">Jellemz≈ëk</h4>
                        <p class="text-brown-dark text-sm mt-1">${bone.jellemzok.replace(/\$(.*?)\$/g, '<i class="italic">$1</i>')}</p>
                    </div>
                    <div>
                        <h4 class="font-semibold text-lg text-brown-medium">√çzes√ºl√©sek</h4>
                        <p class="text-brown-dark text-sm mt-1">${bone.izesulesek.replace(/\$(.*?)\$/g, '<i class="italic">$1</i>')}</p>
                    </div>
                    <div class="p-3 rounded-md bg-clinical">
                        <h4 class="font-semibold text-lg text-brown-medium">üß† Klinikai jelent≈ës√©g</h4>
                        <p class="text-brown-dark text-sm mt-1">${bone.klinikai.replace(/\$(.*?)\$/g, '<i class="italic">$1</i>')}</p>
                    </div>
                </div>
            `;
            document.getElementById(bone.id)?.scrollIntoView();
        }
    }

    function displayVertebraDetails(vertebraId) {
        const vertebra = anatomyData.gerinc.find(v => v.id === vertebraId);
        if (vertebra) {
            let atipikusHtml = '';
            if (vertebra.atipikus) {
                atipikusHtml = `
                    <div>
                        <h4 class="font-semibold text-lg text-brown-medium">Atipikus csigoly√°k</h4>
                        <div class="text-brown-dark text-sm mt-1">${vertebra.atipikus.replace(/\$(.*?)\$/g, '<i class="italic">$1</i>')}</div>
                    </div>
                `;
            }
            vertebraDetailsContainer.innerHTML = `
                <h3 id="v-${vertebra.id}" class="text-2xl font-bold text-brown-dark mb-4 border-b-2 border-brown-light pb-2">${vertebra.name}</h3>
                <div class="space-y-4">
                    <div>
                        <h4 class="font-semibold text-lg text-brown-medium">√Åltal√°nos jellemz≈ëk</h4>
                        <p class="text-brown-dark text-sm mt-1">${vertebra.jellemzok.replace(/\$(.*?)\$/g, '<i class="italic">$1</i>')}</p>
                    </div>
                    ${atipikusHtml}
                    <div class="p-3 rounded-md bg-clinical">
                        <h4 class="font-semibold text-lg text-brown-medium">üß† Klinikai jelent≈ës√©g</h4>
                        <p class="text-brown-dark text-sm mt-1">${vertebra.klinikai.replace(/\$(.*?)\$/g, '<i class="italic">$1</i>')}</p>
                    </div>
                </div>
            `;
             document.getElementById(`v-${vertebra.id}`)?.scrollIntoView();
        }
    }

    function displayFossaDetails(fossaId) {
        const fossa = anatomyData.koponyagodrok[fossaId];
        if (fossa) {
            let nyilasokHtml = `
                <div class="overflow-x-auto rounded-lg border border-brown-light/30">
                    <table class="w-full text-sm text-left">
                        <thead class="text-xs text-brown-dark uppercase bg-stone-300">
                            <tr>
                                <th scope="col" class="px-4 py-3">Ny√≠l√°s Neve</th>
                                <th scope="col" class="px-4 py-3">Elhelyezked√©s (Csont)</th>
                                <th scope="col" class="px-4 py-3">√Åthalad√≥ K√©pletek</th>
                            </tr>
                        </thead>
                        <tbody>
            `;
            fossa.nyilasok.forEach(nyilas => {
                nyilasokHtml += `
                    <tr class="bg-warm-gray border-b border-brown-light/50 last:border-b-0">
                        <td class="px-4 py-3 font-semibold text-brown-dark">${nyilas.name}</td>
                        <td class="px-4 py-3">${nyilas.bone}</td>
                        <td class="px-4 py-3">${nyilas.content.replace(/\$(.*?)\$/g, '<i class="italic">$1</i>')}</td>
                    </tr>
                `;
            });
            nyilasokHtml += '</tbody></table></div>';

            fossaContentContainer.innerHTML = `
                <h3 id="${fossaId}" class="text-2xl font-bold text-brown-dark mb-4">${fossa.name}</h3>
                <div class="space-y-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="space-y-2">
                            <h4 class="font-semibold text-lg text-brown-medium">Hat√°rai</h4>
                            <p class="text-brown-dark text-sm mt-1">${fossa.hatarai}</p>
                        </div>
                        <div class="space-y-2">
                            <h4 class="font-semibold text-lg text-brown-medium">Tartalma</h4>
                            <p class="text-brown-dark text-sm mt-1">${fossa.tartalma.replace(/\$(.*?)\$/g, '<i class="italic">$1</i>')}</p>
                        </div>
                    </div>
                    <div>
                        <h4 class="font-semibold text-lg text-brown-medium mb-3">F≈ëbb ny√≠l√°sok</h4>
                        ${nyilasokHtml}
                    </div>
                </div>
            `;
             document.getElementById(fossaId)?.scrollIntoView();
        }
    }

    fossaTabs.forEach(tab => {
        tab.addEventListener('click', (e) => {
            const fossaId = e.currentTarget.dataset.fossaTarget;
            fossaTabs.forEach(t => {
                t.classList.remove('fossa-tab-active');
                t.classList.add('text-brown-medium', 'hover:text-brown-dark', 'hover:border-gray-400');
            });
            tab.classList.add('fossa-tab-active');
            tab.classList.remove('text-brown-medium', 'hover:text-brown-dark', 'hover:border-gray-400');
            displayFossaDetails(fossaId);
            updateURL(fossaId);
        });
    });
    
    pathwayItems.forEach(item => {
        item.addEventListener('click', (e) => {
            const pathId = e.currentTarget.dataset.pathId;
            const details = anatomyData.latopalya[pathId];
            pathwayItems.forEach(i => i.classList.remove('active-path'));
            e.currentTarget.classList.add('active-path');
            pathwayDetailsContainer.innerHTML = `
                <h4 class="font-bold text-lg text-brown-dark mb-2">${details.title}</h4>
                <p class="text-sm text-brown-medium">${details.desc.replace(/üß†/g, '<span class="inline-block mr-2">üß†</span>')}</p>
            `;
        });
    });

    function loadQuiz() {
        const quizData = anatomyData.quiz;
        let quizHtml = `<h3 class="text-xl font-bold text-brown-dark mb-4">${quizData.title}</h3>`;
        quizData.questions.forEach((q, index) => {
            quizHtml += `
                <div class="mb-6" id="q-${index}">
                    <p class="font-semibold mb-2">${index + 1}. ${q.question}</p>
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-2">
            `;
            q.answers.forEach((ans, ansIndex) => {
                quizHtml += `<button data-q="${index}" data-a="${ansIndex}" class="answer-btn w-full text-left p-3 rounded-md bg-stone-300 hover:bg-stone-400 transition-colors duration-200">${ans}</button>`;
            });
            quizHtml += `</div><p class="text-sm mt-2" id="feedback-${index}"></p></div>`;
        });
        quizContainer.innerHTML = quizHtml;

        document.querySelectorAll('.answer-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                const qIndex = e.currentTarget.dataset.q;
                const aIndex = parseInt(e.currentTarget.dataset.a);
                const question = quizData.questions[qIndex];
                const feedbackEl = document.getElementById(`feedback-${qIndex}`);
                const answerButtons = document.querySelectorAll(`button[data-q='${qIndex}']`);

                answerButtons.forEach(b => {
                    b.disabled = true;
                    b.classList.remove('hover:bg-stone-400');
                });

                if (aIndex === question.correct) {
                    e.currentTarget.classList.add('correct-answer');
                    feedbackEl.innerHTML = '<span class="font-bold text-green-700">Helyes!</span>';
                } else {
                    e.currentTarget.classList.add('wrong-answer');
                    answerButtons[question.correct].classList.add('correct-answer');
                    feedbackEl.innerHTML = '<span class="font-bold text-red-700">Helytelen.</span> A helyes v√°lasz megjel√∂lve.';
                }
            });
        });
    }

    // Initial setup
    createList(null, boneListContainer, displayBoneDetails, 'koponya', 'os');
    createList(anatomyData.gerinc, vertebraListContainer, displayVertebraDetails, 'gerinc', 'v');
    
    if (document.getElementById('vertebraeChart')) {
        createVertebraeChart();
    }
    
    handlePageLoad();
    
    function createVertebraeChart() {
        const ctx = document.getElementById('vertebraeChart').getContext('2d');
        const data = {
            labels: ['Nyaki (7)', 'H√°ti (12)', '√Ågy√©ki (5)', 'Keresztcsonti (5)', 'Farkcsonti (3-5)'],
            datasets: [{
                label: 'Csigoly√°k sz√°ma',
                data: [7, 12, 5, 5, 4],
                backgroundColor: ['rgba(161, 136, 127, 0.6)','rgba(141, 110, 99, 0.6)','rgba(121, 85, 72, 0.6)','rgba(109, 76, 65, 0.6)','rgba(93, 64, 55, 0.6)'],
                borderColor: ['rgba(161, 136, 127, 1)','rgba(141, 110, 99, 1)','rgba(121, 85, 72, 1)','rgba(109, 76, 65, 1)','rgba(93, 64, 55, 1)'],
                borderWidth: 1
            }]
        };

        new Chart(ctx, {
            type: 'bar',
            data: data,
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: { beginAtZero: true, ticks: { stepSize: 2, color: '#4E342E' }, grid: { color: 'rgba(120, 80, 80, 0.1)' }},
                    x: { ticks: { color: '#4E342E' }, grid: { display: false } }
                },
                plugins: { legend: { display: false }, tooltip: { enabled: true } }
            }
        });
    }
});
</script>

</body>
</html>
